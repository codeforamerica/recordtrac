<html>
    <head>

        <style type="text/css">
            {{ pygments['pastie.css'] }}
        </style>
    </head>
    <body>
<p>The Departments.py file contains code on the web app's functionality as it is related to a municipality's departments or agencies:</p>

<p>Creates a file called "doctypes.json" from "departments.json." We use "doctypes.json" to map document types to the department which can fulfill it in the typeahead feature on the new request page.<br>
{{ d['/public_records_portal/departments.py|idio']['create_doctypes'] }}</p>

<p>Creates an array of of the departments.<br>
{{ d['/public_records_portal/departments.py|idio']['create_list_depts'] }}</p>

<p>Retrieves the Public Records Request (PRR) liaison for a particular department. The PRR liaison is the person in a department responsible for responding to public records requests. Each department is assigned one.<br>
{{ d['/public_records_portal/departments.py|idio']['get_prr_liaison'] }}</p>

<p>Retrieves the backup Public Records Request (PRR) liaison for a particular department. This person is responsible for fulfilling a public records request when a PRR liaison is not available.<br>
{{ d['/public_records_portal/departments.py|idio']['get_dept_backup'] }}</p>

<p>Given a user object (defined in the "models.py" file), this checks to see if the user's email is in the "departments.json" file. If the user is not in the "departments.json" file<br>
{{ d['/public_records_portal/departments.py|idio']['get_dept'] }}</p>

<p>This associates city employee with a particular department.<br>
{{ d['/public_records_portal/departments.py|idio']['populate_users_with_departments'] }}</p>
    </body>
</html>